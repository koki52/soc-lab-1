<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Documentation</title>
</head>
<body>
    <h1>API Documentation</h1>
    <h2>Table of contents</h2>
    <a href="#user">User REST</a><br/>
    <a href="#post">Blog Post REST</a><br/>
    <a href="#comment">Blog Comment REST</a><br/>
    <a href="#nestedPost">Nested Blog Post REST</a><br/>
    <a href="#nestedComment">Nested Blog Comment REST</a><br/>
    <h2 id="user">User REST</h2>
    <table border="1">
        <tr>
            <th>Path</th>
            <th>Method</th>
            <th>Parameters</th>
            <th>Description</th>
        </tr>
        <tr>
            <td>/api/users</td>
            <td>GET</td>
            <td>None</td>
            <td>Gets a list of all users</td>
        </tr>
        <tr>
            <td>/api/users</td>
            <td>POST</td>
            <td>username, password</td>
            <td>Registers a new user, username must be unique</td>
        </tr>
        <tr>
            <td>/api/users</td>
            <td>PUT</td>
            <td>password</td>
            <td>Changes password of the user currently logged in</td>
        </tr>
        <tr>
            <td>/api/users</td>
            <td>DELETE</td>
            <td>None</td>
            <td>Deletes the user currently logged in</td>
        </tr>
    </table>

    <h2 id="post">Blog Post REST</h2>
    <table border="1">
        <tr>
            <th>Path</th>
            <th>Method</th>
            <th>Parameters</th>
            <th>Description</th>
        </tr>
        <tr>
            <td>/api/posts</td>
            <td>GET</td>
            <td>None</td>
            <td>Gets a list of all posts</td>
        </tr>
        <tr>
            <td>/api/posts/{id}</td>
            <td>GET</td>
            <td>post id</td>
            <td>Gets a post under a given id, if it exists</td>
        </tr>
        <tr>
            <td>/api/posts</td>
            <td>POST</td>
            <td>title, body</td>
            <td>Creates a new post by the user currently logged in</td>
        </tr>
        <tr>
            <td>/api/posts/{id}</td>
            <td>PUT</td>
            <td>post id, title, body</td>
            <td>Updates the post, if the current user is the author</td>
        </tr>
        <tr>
            <td>/api/posts/{id}</td>
            <td>DELETE</td>
            <td>post id</td>
            <td>Deletes the post, if the current user is the author</td>
        </tr>
    </table>

    <h2 id="comment">Blog Comment REST</h2>
    <table border="1">
        <tr>
            <th>Path</th>
            <th>Method</th>
            <th>Parameters</th>
            <th>Description</th>
        </tr>
        <tr>
            <td>/api/comments</td>
            <td>GET</td>
            <td>None</td>
            <td>Gets a list of all comments</td>
        </tr>
        <tr>
            <td>/api/comments/{id}</td>
            <td>GET</td>
            <td>comment id</td>
            <td>Gets a comment under a given id, if it exists</td>
        </tr>
        <tr>
            <td>/api/comments/{id}</td>
            <td>PUT</td>
            <td>comment id, body</td>
            <td>Updates the comment, if the current user is the author</td>
        </tr>
        <tr>
            <td>/api/comments/{id}</td>
            <td>DELETE</td>
            <td>comment id</td>
            <td>Deletes the comment, if the current user is the author</td>
        </tr>
    </table>

    <h2 id="nestedPost">Nested Blog Post REST</h2>
    <table border="1">
        <tr>
            <th>Path</th>
            <th>Method</th>
            <th>Parameters</th>
            <th>Description</th>
        </tr>
        <tr>
            <td>/api/users//{author}/posts</td>
            <td>GET</td>
            <td>post author username</td>
            <td>Gets a list of all posts by the given author</td>
        </tr>
        <tr>
            <td>/api/users/{author}/posts/{id}</td>
            <td>GET</td>
            <td>post author username, post id</td>
            <td>Gets a post under the given id from the given author, if it exists</td>
        </tr>
        <tr>
            <td>/api/users/{author}/posts</td>
            <td>POST</td>
            <td>post author username, post title, post body</td>
            <td>Creates a new post, if the current user is the author</td>
        </tr>
        <tr>
            <td>/api/users/{author}/posts/{id}</td>
            <td>PUT</td>
            <td>post author username, post id, post title, post body</td>
            <td>Updates the post, if the current user is the author and if the post exists</td>
        </tr>
        <tr>
            <td>/api/users/{author}/posts/{id}</td>
            <td>DELETE</td>
            <td>post author username, post id</td>
            <td>Deletes the post, if the current user is the author and the post exists</td>
        </tr>
    </table>

    <h2 id="nestedComment">Nested Blog Comment REST</h2>
    <table border="1">
        <tr>
            <th>Path</th>
            <th>Method</th>
            <th>Parameters</th>
            <th>Description</th>
        </tr>
        <tr>
            <td>/api/users/{author}/posts/{postId}/comments</td>
            <td>GET</td>
            <td>post author username, post id</td>
            <td>Gets a list of all comments on the post identified by parameters</td>
        </tr>
        <tr>
            <td>/api/users/{author}/posts/{postId}/comments/{commentId}</td>
            <td>GET</td>
            <td>post author username, post id, commentId</td>
            <td>Gets a comment identified by the given parameters, if it exists</td>
        </tr>
        <tr>
            <td>/api/users/{author}/posts/{postId}/comments</td>
            <td>POST</td>
            <td>post author username, post id, comment body</td>
            <td>Creates a new comment with the given body on the post identified by parameters</td>
        </tr>
        <tr>
            <td>/api/users/{author}/posts/{postId}/comments/{commentId}</td>
            <td>PUT</td>
            <td>post author username, post id, comment id, comment body</td>
            <td>Updates the comment identified by parameters with the given body</td>
        </tr>
        <tr>
            <td>/api/users/{author}/posts/{postId}/comments/{commentId}</td>
            <td>DELETE</td>
            <td>post author username, post id, comment id</td>
            <td>Deletes the comment, if the current user is the author and the post exists</td>
        </tr>
    </table>
</body>
</html>